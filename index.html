<!DOCTYPE html>
 <html lang="zh-CN">
  <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>WATM é€šè”æ³°å®‰å…¨æ¨¡å¼å¥–</title>
<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft YaHei",sans-serif}
    body{max-width:1000px;margin:0 auto;padding:40px 20px;background:url(https://raw.githubusercontent.com/watmham/WATM/main/images/bg2.png) no-repeat center center;background-size:cover;background-attachment:fixed;color:#333;line-height:1.8;font-size:16px;position:relative;z-index:0}
    body::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.85);z-index:-1}

/* å¤´éƒ¨ï¼šæ ‡é¢˜ + ç™»å½•æ³¨å†Œ */
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;flex-wrap:wrap;gap:10px}
.title{font-size:26px;font-weight:bold;color:#2c3e50}
.title .en{font-size:16px;color:#666;display:block}
.auth{display:flex;gap:8px}
.btn{padding:6px 14px;border:none;border-radius:4px;color:#fff;font-size:14px;cursor:pointer}
.btn-login{background:#3498db}
.btn-register{background:#2ecc71}
.btn-logout{background:#e74c3c}
.login-status{color:#27ae60;font-weight:bold;font-size:14px}

/* ä¸‰ä¸ªå¤§æŒ‰é’®ï¼ˆè·Ÿä½ åŸæ¥å®Œå…¨ä¸€æ ·ï¼‰ */
.menu{display:flex;flex-direction:column;gap:16px;margin:60px 0;align-items:center}
.menu a{display:block;width:260px;padding:18px 0;background:#fff;border:1px solid #ddd;border-radius:8px;text-align:center;text-decoration:none;color:#2c3e50;font-size:20px;font-weight:bold;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.menu a:hover{background:#f5f5f5}

/* å¼¹çª— */
.mask{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:none;justify-content:center;align-items:center;z-index:999}
.mask.show{display:flex}
.modal{background:#fff;padding:25px;border-radius:8px;width:90%;max-width:360px}
.modal h3{text-align:center;margin-bottom:15px}
.modal .item{margin-bottom:12px}
.modal label{display:block;margin-bottom:4px;font-weight:bold}
.modal input{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}
.modal .subbtn{width:100%;padding:10px;background:#3498db;color:#fff;border:none;border-radius:4px;margin-top:8px}
.modal .subbtn.reg{background:#2ecc71}
.msg{margin-top:8px;text-align:center;font-size:14px;display:none}
.msg.success{color:green}
.msg.error{color:red}
.close{float:right;cursor:pointer;font-size:20px;color:#999}

.copyright{text-align:center;margin-top:60px;font-size:14px;color:#666}
</style>
</head>
<body>

<div class="header">
  <div class="title">
    WATM é€šè”æ³°å®‰å…¨æ¨¡å¼å¥–
    <span class="en">Tai'an All-Mode Award</span>
  </div>
  <div class="auth">
    <span class="login-status" id="status"></span>
    <button class="btn btn-login" id="loginBtn">ç™»å½•</button>
    <button class="btn btn-register" id="regBtn">æ³¨å†Œ</button>
    <button class="btn btn-logout" id="logoutBtn" style="display:none" onclick="logout()">ç™»å‡º</button>
  </div>
</div>

<!-- ğŸ‘‡ è¿™é‡Œå°±æ˜¯ä½ åŸæ¥çš„ 3 ä¸ªæŒ‰é’®ï¼Œé“¾æ¥ã€æ–‡å­—å®Œå…¨æ­£ç¡®ï¼ï¼ï¼ -->
<div class="menu">
  <a href="rules.html">æ´»åŠ¨è§„åˆ™</a>
  <a href="stations.html">å‘å°„ç”µå°</a>
  <a href="apply.html">ç”³è¯·å¥–é¡¹</a>
</div>

<!-- ç™»å½•å¼¹çª— -->
<div class="mask" id="loginMask">
  <div class="modal">
    <span class="close" onclick="closeMask()">&times;</span>
    <h3>ç™»å½•</h3>
    <div class="item"><label>ç”¨æˆ·å</label><input id="loginUser"></div>
    <div class="item"><label>å¯†ç </label><input type="password" id="loginPwd"></div>
    <button class="subbtn" onclick="doLogin()">ç™»å½•</button>
    <div class="msg" id="loginMsg"></div>
  </div>
</div>

<!-- æ³¨å†Œå¼¹çª— -->
<div class="mask" id="regMask">
  <div class="modal">
    <span class="close" onclick="closeMask()">&times;</span>
    <h3>æ³¨å†Œ</h3>
    <div class="item"><label>ç”¨æˆ·å</label><input id="regUser"></div>
    <div class="item"><label>å¯†ç </label><input type="password" id="regPwd"></div>
    <button class="subbtn reg" onclick="doReg()">æ³¨å†Œ</button>
    <div class="msg" id="regMsg"></div>
  </div>
</div>

<div class="copyright">Â© 2026 WATM é€šè”æ³°å®‰å…¨æ¨¡å¼å¥– BG4LZN</div>

<script>
let user = null;
window.onload = () => {
  user = localStorage.getItem('watmUser');
  if(user) updateStatus();
  document.getElementById('loginBtn').onclick = () => show('loginMask');
  document.getElementById('regBtn').onclick = () => show('regMask');
}
function show(id){document.getElementById(id).classList.add('show')}
function closeMask(){document.querySelectorAll('.mask').forEach(m=>m.classList.remove('show'))}
function updateStatus(){
  document.getElementById('status').innerText = user ? `å·²ç™»å½•ï¼š${user}` : '';
  document.getElementById('loginBtn').style.display = user ? 'none' : 'inline-block';
  document.getElementById('regBtn').style.display = user ? 'none' : 'inline-block';
  document.getElementById('logoutBtn').style.display = user ? 'inline-block' : 'none';
}
function logout(){localStorage.removeItem('watmUser');user=null;updateStatus()}

function doReg(){
  let u = document.getElementById('regUser').value.trim();
  let p = document.getElementById('regPwd').value.trim();
  if(!u||!p){showMsg('regMsg','ä¸èƒ½ä¸ºç©º','error');return}
  let list = JSON.parse(localStorage.getItem('users'))||[];
  if(list.some(x=>x.user===u)){showMsg('regMsg','ç”¨æˆ·åå·²å­˜åœ¨','error');return}
  list.push({user,p});localStorage.setItem('users',JSON.stringify(list));
  showMsg('regMsg','æ³¨å†ŒæˆåŠŸ','success');setTimeout(closeMask,1000)
}
function doLogin(){
  let u = document.getElementById('loginUser').value.trim();
  let p = document.getElementById('loginPwd').value.trim();
  let list = JSON.parse(localStorage.getItem('users'))||[];
  if(!list.some(x=>x.user===u&&x.p===p)){showMsg('loginMsg','ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯','error');return}
  user=u;localStorage.setItem('watmUser',u);updateStatus();closeMask()
}
function showMsg(id,t,c){let m=document.getElementById(id);m.innerText=t;m.className='msg '+c;m.style.display='block'}
</script>
</body>
</html>
